\chapter{Overview }
\hypertarget{index}{}\label{index}\index{Overview@{Overview}}
\label{index_md_README}%
\Hypertarget{index_md_README}%


{\ttfamily tgen} is a {\ttfamily C++} library to help you generate random stuff, useful for testcase generation (such as \href{https://github.com/ifsmirnov/jngen}{\texttt{jngen}} or \href{https://github.com/MikeMirzayanov/testlib}{\texttt{testlib}}).

The first thing is to \href{https://brunomaletta.github.io/tgen/group__opts.html}{\texttt{register the generator}}. That defines the seed for random generation and parses the opts.

There are \href{https://brunomaletta.github.io/tgen/group__general.html}{\texttt{general operations}} and operations for specific data types\+:


\begin{DoxyItemize}
\item \href{https://brunomaletta.github.io/tgen/group__sequence.html}{\texttt{Sequences}}
\end{DoxyItemize}\hypertarget{index_autotoc_md1}{}\doxysubsection{\texorpdfstring{Type generators and instances}{Type generators and instances}}\label{index_autotoc_md1}
All types specified above define a {\bfseries{generator}}, that when called upon will generate a uniformly random {\bfseries{instance}} with the given constraints. Let\textquotesingle{}s see an example with {\ttfamily \doxylink{structtgen_1_1sequence}{tgen\+::sequence}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{auto}\ seq\_gen\ =\ \mbox{\hyperlink{structtgen_1_1sequence}{tgen::sequence<int>}}(\textcolor{comment}{/*size=*/}10,\ \textcolor{comment}{/*value\_l=*/}1,\ \textcolor{comment}{/*value\_r=*/}100);}

\end{DoxyCode}


This will create a sequence generator representing the set of all sequences with 10 values from 1 to 100.

Every generator of type {\ttfamily GEN} has a method {\ttfamily gen()}, that returns a {\ttfamily GEN\+::instance} representing an element chosen uniformly at random from the set of all valid elements from the current state of the generator. A {\ttfamily GEN\+::instance} can be fed to {\ttfamily std\+::cout} to be printed.

In our example, we can call {\ttfamily gen()} to generate and print a random sequence of 10 elements from 1 to 100.


\begin{DoxyCode}{0}
\DoxyCodeLine{std::cout\ <<}
\DoxyCodeLine{\ \ \ \ seq\_gen.gen()\ <<\ std::endl;}

\end{DoxyCode}


The nice thing is that we can add restrictions (specific to each type) to the generator, shrinking the set of valid arrays. For example, we can add the restriction that the first and second elements of the sequence have to be the same.


\begin{DoxyCode}{0}
\DoxyCodeLine{std::sequence<int>::instance\ inst\ =\ seq\_gen.equal\_idx\_pair(\textcolor{comment}{/*idx\_1=*/}0,\ \textcolor{comment}{/*idx\_2=*/}1).gen();}

\end{DoxyCode}


The returned instance can also be modified by some deterministic operations (specific to each type).


\begin{DoxyCode}{0}
\DoxyCodeLine{inst.reverse();}

\end{DoxyCode}


Finally, there can be random operations defined for the type.


\begin{DoxyCode}{0}
\DoxyCodeLine{std::cout\ <<}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{group__sequence_ga2d3aae3685b2a2003d737cfa3221f367}{tgen::sequence\_op::any}}(inst)\ <<\ std::endl;}

\end{DoxyCode}


Combining everything into one line\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{std::cout\ <<}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{group__sequence_ga2d3aae3685b2a2003d737cfa3221f367}{tgen::sequence\_op::any}}(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{structtgen_1_1sequence}{tgen::sequence<int>}}(10,\ 1,\ 100).equal\_idx\_pair(0,\ 1).gen().reverse()}
\DoxyCodeLine{\ \ \ \ )\ <<\ std::endl;}

\end{DoxyCode}
\hypertarget{index_autotoc_md2}{}\doxysection{\texorpdfstring{Examples}{Examples}}\label{index_autotoc_md2}
\hypertarget{index_autotoc_md3}{}\doxysubsection{\texorpdfstring{Opts configuration}{Opts configuration}}\label{index_autotoc_md3}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}tgen.h"{}}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ main(\textcolor{keywordtype}{int}\ argc,\ \textcolor{keywordtype}{char}**\ argv)\ \{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{group__opts_gae8eca919976894c15b44713f00f33bd8}{tgen::register\_gen}}(argc,\ argv);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ n\_max\ =\ \mbox{\hyperlink{group__opts_ga3a0c1de577e6b0c2bf1e119107f274db}{tgen::opt<int>}}(\textcolor{stringliteral}{"{}n"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ std::cout\ <<\ \mbox{\hyperlink{group__general_gaa007cf5e254380332a3548711d5f9b16}{tgen::next}}(1,\ n)\ <<\ std::endl;}
\DoxyCodeLine{\}}

\end{DoxyCode}


Calling this code with {\ttfamily ./a.out -\/n 100} will generate a random number from 1 to 100.\hypertarget{index_autotoc_md4}{}\doxysubsection{\texorpdfstring{Generation}{Generation}}\label{index_autotoc_md4}

\begin{DoxyCode}{0}
\DoxyCodeLine{std::cout\ <<}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{structtgen_1_1sequence}{tgen::sequence<int>}}(100,\ 1,\ 100).\mbox{\hyperlink{group__sequence_ga09c96c92fc2f97328c75e6d260a6ee27}{distinct}}().\mbox{\hyperlink{group__sequence_ga0dc45ca71b1cc8087eac28188334dc91}{gen}}()\ <<\ std::endl;}

\end{DoxyCode}


This code generates a random sequence of 100 distinct numbers. 